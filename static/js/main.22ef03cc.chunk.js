(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){e.exports=a(32)},,,,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=(a(21),a(2));var s=e=>{let{day:t,setDay:a}=e;return r.a.createElement("div",{className:"day-selection"},r.a.createElement("select",{name:"days",id:"days",value:t,onChange:e=>a(e.target.value)},r.a.createElement("option",{value:"Mon"},"Mon"),r.a.createElement("option",{value:"Tues"},"Tues"),r.a.createElement("option",{value:"Weds"},"Weds"),r.a.createElement("option",{value:"Thurs"},"Thurs"),r.a.createElement("option",{value:"Fri"},"Fri"),r.a.createElement("option",{value:"Sat"},"Sat"),r.a.createElement("option",{value:"Sun"},"Sun")))};var i=e=>{let{time:t,setTime:a}=e;return r.a.createElement("div",{className:"time-selection"},r.a.createElement("input",{type:"time",id:"meetinTime",name:"meetingTime",value:t,onChange:e=>a(e.target.value)}))};a(9);var u=e=>{let{onAddSelection:t}=e;const[a,c]=Object(n.useState)("Mon"),[l,o]=Object(n.useState)("");return r.a.createElement("div",{className:"day-time-selection"},r.a.createElement(s,{day:a,setDay:c}),r.a.createElement(i,{time:l,setTime:o}),r.a.createElement("button",{type:"button",onClick:()=>{a&&l&&(t(a,l),c("Mon"),o(""))}},"Add Day & Time"))};var m=e=>{let{meetingTimes:t,onAddMeetingTime:a}=e;return r.a.createElement("div",{className:"day-time-comp"},r.a.createElement(u,{onAddSelection:a}),r.a.createElement("div",{style:{display:0===t.length?"none":"block"}},t.map((e,t)=>r.a.createElement("div",{key:t},"".concat(e.day," at ").concat(e.time)))))},p=(a(22),a(4)),d=a(5);var E=e=>{let{courses:t,onRemoveCourse:a}=e;return r.a.createElement("div",{className:"course-list",style:{display:0===t.length?"none":"block"}},t.map((e,t)=>r.a.createElement("div",{key:t,className:"course-item"},e,a&&r.a.createElement(d.a,{icon:p.h,onClick:()=>a(t),style:{marginLeft:"10px"}}))))};var g=e=>{let{groupName:t,onGroupNameChange:a,courses:n,onCourseInputChange:c,onAddCourse:l,newCourse:o,removeCourse:s,meetingTimes:i,onAddMeetingTime:u,location:p,onLocationChange:d,privacy:g,onPrivacyChange:h,code:v,setCode:y,onSubmit:b}=e;return r.a.createElement("form",{onSubmit:e=>{e.preventDefault(),0!==n.length?0!==i.length?function(t,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{console.log("from server:"+this.responseText);var t=JSON.parse(this.responseText);a(null,t)}catch(e){a(e,null)}else a(new Error("Request failed with status: "+this.status),null)};var r=new URLSearchParams;r.append("groupName",t),n.open("POST","http://localhost:8080/ProjectTest/StudyGroupReturnServlet",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(r.toString())}(t,(e,t)=>{e?console.error("Error fetching data: ",e):t.length>0?alert("This group name already exists. Please choose a different name."):b()}):alert("At least one meeting time must be added."):alert("At least one course must be added.")}},r.a.createElement("input",{type:"text",value:t,onChange:a,placeholder:"Enter Group Name",required:!0}),r.a.createElement("br",null),r.a.createElement("div",{className:"course-input"},r.a.createElement("input",{type:"text",value:o,onChange:c,placeholder:"Add Course"}),r.a.createElement("button",{type:"button",onClick:l},"Add")),r.a.createElement(E,{courses:n,onRemoveCourse:s}),r.a.createElement(m,{meetingTimes:i,onAddMeetingTime:u}),r.a.createElement("input",{type:"text",value:p,onChange:d,placeholder:"Location",required:!0}),r.a.createElement("div",{className:"privacy-buttons"},r.a.createElement("button",{type:"button",onClick:()=>h("PUBLIC"),className:"PUBLIC"===g?"active":""},"Public"),r.a.createElement("button",{type:"button",onClick:()=>h("PRIVATE"),className:"PRIVATE"===g?"active":""},"Private")),"PRIVATE"===g&&r.a.createElement("input",{type:"text",value:v,onChange:e=>y(e.target.value.substring(0,6)),placeholder:"Enter Code",required:!0}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Create Study Group"))};var h=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)([]),[l,s]=Object(n.useState)(""),[i,u]=Object(n.useState)([]),[m,p]=Object(n.useState)(""),[d,E]=Object(n.useState)("PUBLIC"),[h,v]=Object(n.useState)(""),y=Object(o.o)();return r.a.createElement("div",null,r.a.createElement("h1",null,"Create Study Group"),r.a.createElement(g,{groupName:e,onGroupNameChange:e=>{const a=e.target.value.replace(/\s/g,"").substring(0,20);t(a)},courses:a,onCourseInputChange:e=>{const t=e.target.value.toUpperCase().replace(/\s/g,"").substring(0,10);s(t)},onAddCourse:()=>{l&&(c([...a,l]),s(""))},newCourse:l,removeCourse:e=>{const t=a.filter((t,a)=>a!==e);c(t)},meetingTimes:i,onAddMeetingTime:(e,t)=>{u(a=>[...a,{day:e,time:t}])},location:m,onLocationChange:e=>{const t=e.target.value.substring(0,20);p(t)},privacy:d,onPrivacyChange:e=>{E(e),"PRIVATE"!==e&&v("")},code:h,setCode:v,onSubmit:()=>{const t={groupName:e,courses:a,meetingTimes:i,location:m,privacy:d,code:"PRIVATE"===d?h:void 0};console.log(JSON.stringify(t,null,2)),function(e,t){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===this.readyState&&200===this.status&&(console.log("sent data success"),t&&t())};var n=new URLSearchParams;n.append("groupName",e.groupName),n.append("location",e.location),n.append("privacy",e.privacy),n.append("code",e.code||""),n.append("courses",JSON.stringify(e.courses)),n.append("meetingTimes",JSON.stringify(e.meetingTimes)),a.open("POST","http://localhost:8080/ProjectTest/StudyGroupCreateServlet",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(n.toString())}(t,()=>{y("/".concat(t.groupName,"/view"))})}}))};a(10);var v=()=>{const{groupName:e}=Object(o.q)(),[t,a]=Object(n.useState)(null);return Object(n.useEffect)(()=>{e?function(e,t){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{var e=JSON.parse(this.responseText);t(null,e)}catch(a){t(a,null)}else t(new Error("Request failed with status: "+this.status),null)};var n=new URLSearchParams;n.append("groupName",e),a.open("POST","http://localhost:8080/ProjectTest/StudyGroupReturnServlet",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(n.toString())}(e,(function(e,t){e?console.error("Error fetching data:",e):(console.log("Received data:",t),a(t[0]))})):console.error("Group name is not provided.")},[e]),t?r.a.createElement("div",{className:"container-full-study-page"},r.a.createElement("div",{className:"group-info"},r.a.createElement("h1",null,t.groupName),r.a.createElement(E,{courses:t.courses}),r.a.createElement("div",{className:"time-list"},t.meetingTimes.map((e,t)=>r.a.createElement("div",{key:t},"".concat(e.day," at ").concat(e.time)))),r.a.createElement("p",null,"Location: ",t.location),r.a.createElement("p",null,"Privacy: ",t.privacy)),r.a.createElement("div",{className:"sidebar"},r.a.createElement("h2",null,"Current Members"),r.a.createElement("button",{className:"join"},"Join"))):r.a.createElement("div",null,"Ensure your group exists... Loading....")};a(25),a(26);var y=e=>{let{name:t,courses:a,meetingTimes:n,location:c,privacy:l}=e;const s="string"===typeof l&&"private"===l.toLowerCase(),i=Object(o.o)();return r.a.createElement("div",{className:"study-group-widget",onClick:()=>{i("/".concat(t,"/view"))}},r.a.createElement("div",{className:"icon-text-combo"},s?r.a.createElement(d.a,{icon:p.c}):r.a.createElement(d.a,{icon:p.d}),r.a.createElement("h3",null,t)),r.a.createElement("div",{className:"icon-text-combo"},r.a.createElement(d.a,{icon:p.b}),r.a.createElement("span",null,c)),r.a.createElement("ul",null,a.map((e,t)=>r.a.createElement("li",{key:t},e))),r.a.createElement("ul",null,n.map((e,t)=>r.a.createElement("li",{key:t},"".concat(e.day," at ").concat(e.time)))))},b=a(12),f=a.n(b);var S=()=>{const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[l,s]=Object(n.useState)([]),[i,u]=Object(n.useState)({Mon:!1,Tues:!1,Weds:!1,Thurs:!1,Fri:!1,Sat:!1,Sun:!1}),[m,p]=Object(n.useState)("BOTH"),[d,g]=Object(n.useState)([]),h=Object(o.o)(),v=e=>{u(t=>({...t,[e]:!t[e]}))},b=e=>{p(e)},S=(e,t)=>{e?console.error("Error fetching data:",e):(console.log("Fetched data:",t),t&&"object"===typeof t&&!Array.isArray(t)?g([t]):g(t))},C=Object(n.useCallback)(f()(e=>{let{groupName:t,courses:a,selectedDays:n,privacy:r}=e;!function(e,t){let{groupName:a,courses:n,selectedDays:r,privacy:c}=e;const l=new URLSearchParams;a&&l.append("groupName",a);n&&n.length>0&&l.append("courses",JSON.stringify(n));if(r&&r.length>0){const e=r.map(e=>({day:e,time:"12:00"}));l.append("meetingTimes",JSON.stringify(e)),console.log(JSON.stringify(e))}c&&"BOTH"!==c&&l.append("privacy",c);const o={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l};console.log(l.toString()),fetch("http://localhost:8080/ProjectTest/StudyGroupReturnServlet",o).then(e=>{if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));return e.json()}).then(e=>t(null,e)).catch(e=>t(e,null))}({groupName:t,courses:a,selectedDays:n,privacy:r},S)},200),[]);return Object(n.useEffect)(()=>{C({groupName:e,courses:l,selectedDays:Object.entries(i).filter(e=>{let[t,a]=e;return a}).map(e=>{let[t]=e;return t}),privacy:m})},[e,l,i,m,C]),r.a.createElement("div",{className:"container-all-study-groups"},r.a.createElement("div",null,r.a.createElement("h1",null,"Study Groups")),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"search-bar"},r.a.createElement("button",{onClick:()=>{h("/create")}},"Create Group"),r.a.createElement("input",{type:"text",value:e,onChange:e=>{const a=e.target.value.replace(/\s/g,"").substring(0,20);t(a)},placeholder:"Search..."})),r.a.createElement("div",{className:"info-filter"},r.a.createElement("div",{className:"study-group-views"},d.map((e,t)=>r.a.createElement(y,{key:t,name:e.groupName,courses:e.courses,meetingTimes:e.meetingTimes,location:e.location,privacy:e.privacy}))),r.a.createElement("div",{className:"filter-menu"},r.a.createElement("h2",null,"Filters"),r.a.createElement("div",{className:"courses"},r.a.createElement("h3",null,"Courses:"),r.a.createElement("div",{className:"course-input"},r.a.createElement("input",{type:"text",value:a,onChange:e=>{const t=e.target.value.toUpperCase().replace(/\s/g,"").substring(0,10);c(t)},placeholder:"Add Course"}),r.a.createElement("button",{type:"button",onClick:()=>{a&&!l.includes(a)&&(s([...l,a]),c(""))}},"Add")),r.a.createElement(E,{courses:l,onRemoveCourse:e=>{const t=l.filter((t,a)=>a!==e);s(t)}})),r.a.createElement("div",{className:"days"},r.a.createElement("h3",null,"Days:"),r.a.createElement("div",{className:"checkbox-wrapper"},r.a.createElement("input",{type:"checkbox",id:"monday",name:"mon",value:"Mon",checked:i.Mon,onChange:()=>v("Mon")}),r.a.createElement("label",{htmlFor:"mon"},"Mon")),r.a.createElement("div",{className:"checkbox-wrapper"},r.a.createElement("input",{type:"checkbox",id:"tuesday",name:"tues",value:"Tues",checked:i.Tues,onChange:()=>v("Tues")}),r.a.createElement("label",{htmlFor:"tues"},"Tues")),r.a.createElement("div",{className:"checkbox-wrapper"},r.a.createElement("input",{type:"checkbox",id:"wednesday",name:"weds",value:"Weds",checked:i.Weds,onChange:()=>v("Weds")}),r.a.createElement("label",{htmlFor:"weds"},"Weds")),r.a.createElement("div",{className:"checkbox-wrapper"},r.a.createElement("input",{type:"checkbox",id:"thursday",name:"thurs",value:"Thurs",checked:i.Thurs,onChange:()=>v("Thurs")}),r.a.createElement("label",{htmlFor:"thurs"},"Thurs")),r.a.createElement("div",{className:"checkbox-wrapper"},r.a.createElement("input",{type:"checkbox",id:"friday",name:"fri",value:"Fri",checked:i.Fri,onChange:()=>v("Fri")}),r.a.createElement("label",{htmlFor:"fri"},"Fri")),r.a.createElement("div",{className:"checkbox-wrapper"},r.a.createElement("input",{type:"checkbox",id:"saturday",name:"sat",value:"Sat",checked:i.Sat,onChange:()=>v("Sat")}),r.a.createElement("label",{htmlFor:"sat"},"Sat")),r.a.createElement("div",{className:"checkbox-wrapper"},r.a.createElement("input",{type:"checkbox",id:"sunday",name:"sun",value:"Sun",checked:i.Sun,onChange:()=>v("Sun")}),r.a.createElement("label",{htmlFor:"sun"},"Sun"))),r.a.createElement("div",{className:"privacy-buttons"},r.a.createElement("button",{type:"button",onClick:()=>b("PUBLIC"),className:"PUBLIC"===m?"active":""},"Public"),r.a.createElement("button",{type:"button",onClick:()=>b("PRIVATE"),className:"PRIVATE"===m?"active":""},"Private"),r.a.createElement("button",{type:"button",onClick:()=>b("BOTH"),className:"BOTH"===m?"active":""},"Both"))))))};a(27);var C=function(){const e=Object(o.o)();return r.a.createElement("div",null,r.a.createElement("div",{className:"welcome-container"},r.a.createElement("button",{className:"button",onClick:()=>{e("/register")}},"Register")),r.a.createElement("div",{className:"welcome-container"},r.a.createElement("button",{className:"button",onClick:()=>{e("/login")}},"Login")),r.a.createElement("div",{className:"welcome-container"},r.a.createElement("button",{className:"button",onClick:()=>{e("/guest")}},"Continue as Guest")))};a(28);var N=function(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[s,i]=Object(n.useState)(""),[u,m]=Object(n.useState)("");return r.a.createElement("div",{className:"register-container"},r.a.createElement("h2",null,"Register"),r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const t=new XMLHttpRequest;t.open("POST","http://localhost:8080/StudyGroupsFinalProj_v2/Register",!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE)if(200===t.status){const e=JSON.parse(t.responseText);"-1"!==e?(console.log("Login successful. UserID:",e),document.cookie="UserID="+e):console.error("Login failed")}else console.error("Registration failed",t.status)};const n=JSON.stringify({fname:e,lname:a,major:l,email:s,password:u});t.send(n)}catch(n){console.error("Error occurred:",n)}}},r.a.createElement("input",{type:"text",placeholder:"First Name",value:e,onChange:e=>t(e.target.value)}),r.a.createElement("input",{type:"text",placeholder:"Last Name",value:a,onChange:e=>c(e.target.value)}),r.a.createElement("input",{type:"text",placeholder:"Major",value:l,onChange:e=>o(e.target.value)}),r.a.createElement("input",{type:"email",placeholder:"USC Email Address",value:s,onChange:e=>i(e.target.value)}),r.a.createElement("input",{type:"password",placeholder:"Password",value:u,onChange:e=>m(e.target.value)}),r.a.createElement("button",{type:"submit"},"Register")))};a(29);var T=function(){const[e,t]=Object(n.useState)(""),[a,c]=Object(n.useState)("");return r.a.createElement("div",{className:"login-container"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:t=>{t.preventDefault();try{const t=new XMLHttpRequest;t.open("POST","http://localhost:8080/StudyGroupsFinalProj_v2/Login",!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE)if(200===t.status){const e=JSON.parse(t.responseText);"-1"!==e?(console.log("Registration successful. UserID:",e),document.cookie="UserID="+e):console.error("Registration failed")}else console.error("Request failed:",t.status)};const n=JSON.stringify({username:e,password:a});t.send(n)}catch(n){console.error("Error occurred:",n)}}},r.a.createElement("input",{type:"text",placeholder:"Username",value:e,onChange:e=>t(e.target.value)}),r.a.createElement("input",{type:"password",placeholder:"Password",value:a,onChange:e=>c(e.target.value)}),r.a.createElement("button",{type:"submit"},"Login")))};a(30);var O=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome, Guest!"))};var w=function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",element:r.a.createElement(C,null)}),r.a.createElement(o.a,{path:"/home",element:r.a.createElement(S,null)}),r.a.createElement(o.a,{path:"/create",element:r.a.createElement(h,null)}),r.a.createElement(o.a,{path:"/:groupName/view",element:r.a.createElement(v,null)}),r.a.createElement(o.a,{path:"/reg",element:r.a.createElement(C,null)}),r.a.createElement(o.a,{path:"/register",element:r.a.createElement(N,null)}),r.a.createElement(o.a,{path:"/login",element:r.a.createElement(T,null)}),r.a.createElement(o.a,{path:"/guest",element:r.a.createElement(O,null)}))};var k=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:c,getTTFB:l}=t;a(e),n(e),r(e),c(e),l(e)})},x=a(6);a(31);var j=function(){const e=Object(o.o)(),[t,a]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const e=document.cookie.includes("first=");a(e)},[]);const c=t=>{e(t)};return r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h1",null,"StudyManager")),r.a.createElement("div",null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{icon:p.a,style:{fontSize:"30px",margin:"0 5px"},onClick:()=>e("/home")}),r.a.createElement(d.a,{icon:p.g,style:{fontSize:"30px",margin:"0 5px"},onClick:()=>c("/:groupName/view")}),r.a.createElement(d.a,{icon:p.e,style:{fontSize:"30px",margin:"0 5px"},onClick:()=>c("Logout")})):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{icon:p.a,style:{fontSize:"30px",margin:"0 5px"},onClick:()=>c("/home")}),r.a.createElement(d.a,{icon:p.g,style:{fontSize:"30px",margin:"0 5px"},onClick:()=>c("/create")}),r.a.createElement(d.a,{icon:p.f,style:{fontSize:"30px",margin:"0 5px"},onClick:()=>c("/reg")}))))};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(x.a,null,r.a.createElement(j,null),r.a.createElement(w,null))),k()}],[[13,1,2]]]);
//# sourceMappingURL=main.22ef03cc.chunk.js.map